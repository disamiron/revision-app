"use strict";(self.webpackChunkrevision_app=self.webpackChunkrevision_app||[]).push([[336],{7336:(Ie,y,a)=>{a.r(y),a.d(y,{DashboardModule:()=>Oe});var p=a(6895),c=a(3060),s=a(136),U=a(655),i=a(4006),O=a(9186),d=a(5412),e=a(4650),g=a(4859),l=a(9549),b=a(4144),w=a(3238),B=a(5113),J=a(6709);function q(t,o){if(1&t&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function N(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.qZA())}function L(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"\u041e\u0442 1 \u0434\u043e 20."),e.qZA())}function R(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.qZA())}function Y(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"\u041e\u0442 1 \u0434\u043e 4."),e.qZA())}let j=(()=>{class t{constructor(n,r,u){this.data=n,this._dialogRef=r,this._fb=u,this.barcodeOptionForm=this._fb.group({patchSize:[null],frequency:[null,[i.kI.required,i.kI.min(1),i.kI.max(20)]],numOfWorkers:[null,[i.kI.required,i.kI.min(1),i.kI.max(4)]],locate:[!1],halfSample:[!1]}),this.patchSizes=["x-small","small","medium","large","x-large"]}ngOnInit(){console.log(this.data.locator?.patchSize),this.barcodeOptionForm.patchValue({patchSize:this.data.locator?.patchSize,frequency:this.data.frequency,numOfWorkers:this.data.numOfWorkers,locate:this.data.locate,halfSample:this.data.locator?.halfSample})}sumbit(){this._dialogRef.close(this.barcodeOptionForm.value)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.WI),e.Y36(d.so),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-barcode-option"]],decls:31,vars:7,consts:[[1,"modal"],[3,"formGroup"],["appearance","fill"],["formControlName","patchSize"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","frequency","matInput",""],[4,"ngIf"],["type","number","formControlName","numOfWorkers","matInput",""],["formControlName","locate","color","primary"],["formControlName","halfSample","color","primary"],["mat-raised-button","",1,"manual-key",3,"disabled","click"],[3,"value"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-form-field",2)(3,"mat-label"),e._uU(4,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0442\u0440\u0438\u0445-\u043a\u043e\u0434\u0430"),e.qZA(),e.TgZ(5,"mat-select",3),e.YNc(6,q,2,2,"mat-option",4),e.qZA(),e.TgZ(7,"mat-hint"),e._uU(8,"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f medium"),e.qZA()(),e.TgZ(9,"mat-form-field",2)(10,"mat-label"),e._uU(11,"\u0427\u0430\u0441\u0442\u043e\u0442\u0430"),e.qZA(),e._UZ(12,"input",5),e.TgZ(13,"mat-hint"),e._uU(14,"\u041e\u0442 1 \u0434\u043e 20. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f 5"),e.qZA(),e.YNc(15,N,2,0,"mat-error",6),e.YNc(16,L,2,0,"mat-error",6),e.qZA(),e.TgZ(17,"mat-form-field",2)(18,"mat-label"),e._uU(19,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432"),e.qZA(),e._UZ(20,"input",7),e.TgZ(21,"mat-hint"),e._uU(22,"\u041e\u0442 1 \u0434\u043e 4. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f 2"),e.qZA(),e.YNc(23,R,2,0,"mat-error",6),e.YNc(24,Y,2,0,"mat-error",6),e.qZA(),e.TgZ(25,"mat-checkbox",8),e._uU(26," \u041b\u043e\u043a\u0430\u0442\u043e\u0440 "),e.qZA(),e.TgZ(27,"mat-checkbox",9),e._uU(28," \u041f\u043e\u043b\u043e\u0432\u0438\u043d\u0430 \u043e\u0431\u0440\u0430\u0437\u0446\u0430 "),e.qZA(),e.TgZ(29,"button",10),e.NdJ("click",function(){return r.sumbit()}),e._uU(30," \u0413\u043e\u0442\u043e\u0432\u043e "),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("formGroup",r.barcodeOptionForm),e.xp6(5),e.Q6J("ngForOf",r.patchSizes),e.xp6(9),e.Q6J("ngIf",r.barcodeOptionForm.controls.frequency.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.barcodeOptionForm.controls.frequency.hasError("min")||r.barcodeOptionForm.controls.frequency.hasError("max")),e.xp6(7),e.Q6J("ngIf",r.barcodeOptionForm.controls.numOfWorkers.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.barcodeOptionForm.controls.numOfWorkers.hasError("min")||r.barcodeOptionForm.controls.numOfWorkers.hasError("max")),e.xp6(5),e.Q6J("disabled",r.barcodeOptionForm.invalid))},dependencies:[p.sg,p.O5,g.lW,l.TO,l.KE,l.bx,l.hX,b.Nt,w.ey,B.gD,J.oG,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u],styles:[".modal[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;max-width:600px;min-width:270px;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:30px 20px}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();var C=a(7579),Q=a(727),z=(a(2076),a(515),a(5577),a(2722));const V=e.GuJ,W=Symbol("__destroy"),M=Symbol("__decoratorApplied");function Z(t){return"string"==typeof t?Symbol(`__destroy__${t}`):W}function E(t,o){t[o]||(t[o]=new C.x)}function S(t,o){t[o]&&(t[o].next(),t[o].complete(),t[o]=null)}function A(t){t instanceof Q.w0&&t.unsubscribe()}function T(t,o){return function(){if(t&&t.call(this),S(this,Z()),o.arrayName&&function X(t){Array.isArray(t)&&t.forEach(A)}(this[o.arrayName]),o.checkProperties)for(const n in this)o.blackList?.includes(n)||A(this[n])}}Symbol("CheckerHasBeenSet");var m=(()=>{return(t=m||(m={})).Token="REVISION_APP_TOKEN",t.User="REVISION_APP_USER",t.ScanOptions="REVISION_APP_SCAN_OPTIONS",m;var t})();let ae=(()=>{class t{constructor(){this.storageChange$=new C.x}setItem(n,r){localStorage.setItem(n,JSON.stringify(r)),this.storageChange$.next({type:n,value:r})}getItem(n){const r=localStorage.getItem(n);return JSON.parse(r)}removeItem(n){localStorage.removeItem(n),this.storageChange$.next({type:n})}clearStorage(){Object.keys(m).forEach(n=>{this.removeItem(m[n])})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=a(7392);function se(t,o){1&t&&(e.TgZ(0,"button",5)(1,"mat-icon"),e._uU(2,"stop"),e.qZA(),e._uU(3," \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0432\u0438\u0437\u0438\u044e "),e.qZA())}let k=(()=>{class t{constructor(n){this.data=n,this.urlValues=s.K}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu"]],decls:16,vars:2,consts:[[1,"modal"],[1,"modal__buttons"],["mat-dialog-close","cancel",3,"routerLink"],["mat-stroked-button","","color","primary",1,"button","white"],["class","button","mat-raised-button","","color","warn",4,"ngIf"],["mat-raised-button","","color","warn",1,"button"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2)(3,"button",3)(4,"mat-icon"),e._uU(5,"search"),e.qZA(),e._uU(6," \u041f\u043e\u0438\u0441\u043a "),e.qZA()(),e.TgZ(7,"button",3)(8,"mat-icon"),e._uU(9," insert_drive_file"),e.qZA(),e._uU(10," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c "),e.qZA(),e.TgZ(11,"button",3)(12,"mat-icon"),e._uU(13,"save_alt"),e.qZA(),e._uU(14," \u0421\u043a\u0430\u0447\u0430\u0442\u044c "),e.qZA(),e.YNc(15,se,4,0,"button",4),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("routerLink",r.urlValues.dashboard+"/"+r.urlValues.revision+"/"+r.data.revisionId+"/"+r.urlValues.search),e.xp6(13),e.Q6J("ngIf",r.data.isThereRevision))},dependencies:[p.O5,c.yS,g.lW,d.ZT,_.Hw],styles:[".modal[_ngcontent-%COMP%]{box-sizing:border-box;max-width:600px;min-width:270px;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}.modal__buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;margin:30px 0 20px;box-sizing:border-box;min-width:95%}.modal__buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .modal__buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:60px;width:100%;max-width:400px;border-radius:10px}.modal__buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]     .mat-button-wrapper, .modal__buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]     .mat-button-wrapper{margin-right:10px}.white[_ngcontent-%COMP%]{background:#fff}"]}),t})();function ce(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(n);const u=e.oxw();return e.KtG(u.toRevision())}),e.TgZ(1,"mat-icon"),e._uU(2," speaker_phone"),e.qZA()()}}let x=(()=>{class t{constructor(n,r){this._dialog=n,this._router=r,this.revisionId=null,this.productId=null,this.searchPage=!1,this.urlValues=s.K}goHome(){this._router.navigateByUrl(s.K.dashboard)}toRevision(){this._router.navigateByUrl(s.K.dashboard+"/"+s.K.revision+"/"+this.revisionId)}showMenu(){this._dialog.open(k,{data:{isThereRevision:!0,revisionId:this.revisionId}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.uw),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-footer-menu"]],inputs:{revisionId:"revisionId",productId:"productId",searchPage:"searchPage"},decls:8,vars:1,consts:[[1,"footer-menu"],["mat-mini-fab","","color","white",3,"click"],["mat-fab","","color","primary","class","big",3,"click",4,"ngIf"],["mat-fab","","color","primary",1,"big",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return r.goHome()}),e.TgZ(2,"mat-icon"),e._uU(3,"home"),e.qZA()(),e.YNc(4,ce,3,0,"button",2),e.TgZ(5,"button",1),e.NdJ("click",function(){return r.showMenu()}),e.TgZ(6,"mat-icon"),e._uU(7,"menu"),e.qZA()()()),2&n&&(e.xp6(4),e.Q6J("ngIf",r.productId||r.searchPage))},dependencies:[p.O5,g.lW,_.Hw],styles:["[_nghost-%COMP%]{display:flex;justify-content:center}.footer-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;min-width:290px;max-width:400px;width:100%;height:40px}.big[_ngcontent-%COMP%]{width:80px;height:80px}"]}),t})();function le(t,o){1&t&&(e.TgZ(0,"div",8),e._UZ(1,"div",9),e.qZA())}function pe(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",10)(1,"mat-form-field",11)(2,"mat-label"),e._uU(3,"\u0428\u0442\u0440\u0438\u0445-\u043a\u043e\u0434 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434"),e.qZA(),e._UZ(4,"input",12),e.qZA(),e.TgZ(5,"button",13),e.NdJ("click",function(){e.CHM(n);const u=e.oxw();return e.KtG(u.submit())}),e._uU(6," \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c "),e.TgZ(7,"mat-icon"),e._uU(8,"library_add"),e.qZA()()()}if(2&t){const n=e.oxw();e.Q6J("formGroup",n.manuallForm),e.xp6(1),e.Q6J("color","white"),e.xp6(4),e.Q6J("disabled",n.manuallForm.invalid)}}function de(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(n);const u=e.oxw();return e.KtG(u.setting())}),e._uU(1," \u041e\u043f\u0446\u0438\u0438 "),e.TgZ(2,"mat-icon"),e._uU(3,"settings"),e.qZA()()}if(2&t){const n=e.oxw();e.Q6J("disabled",n.isLoading&&!n.isManuallLogic)}}let f=class{constructor(o,n,r,u,h){this._fb=o,this._router=n,this._activatedRoute=r,this._dialog=u,this._storageService=h,this.isManuallLogic=!1,this.isLoading=!0,this.config={frequency:5,locate:!0,numOfWorkers:2,inputStream:{constraints:{facingMode:"environment"},area:{top:"20%",right:"0%",left:"0%",bottom:"20%"}},decoder:{readers:["ean_reader"]},locator:{halfSample:!0,patchSize:"medium"}},this.manuallForm=this._fb.group({barcode:[null,i.kI.required]}),this.revisionId=this._activatedRoute.snapshot.paramMap.get("revisionId")}ngAfterViewInit(){let o=this._storageService.getItem(m.ScanOptions);o&&this.updateConfig(o),this.barcodeScanner.start()}onValueChanges(o){"ean_13"===o.codeResult.format&&o?.codeResult?.code&&(this.barcodeScanner.stop(),this.isManuallLogic=!0,this.manuallForm.patchValue({barcode:o.codeResult.code}))}submit(){this.manuallForm.invalid||this._router.navigateByUrl(s.K.dashboard+"/"+s.K.revision+"/"+this.revisionId+"/"+s.K.product+"/"+this.manuallForm.value.barcode)}changeEnterOption(){this.isLoading&&!this.isManuallLogic||(this.isManuallLogic=!this.isManuallLogic,this.isManuallLogic?this.barcodeScanner.stop():(this.manuallForm.patchValue({barcode:null}),this.isLoading=!0,this.barcodeScanner.start()))}setting(){this.barcodeScanner.stop(),this._dialog.open(j,{data:{...this.config}}).afterClosed().pipe(function ue(t,o){return n=>{const r=Z(o);return"string"==typeof o?function ie(t,o,n){const r=t[o];E(t,n),t[o]=function(){r.apply(this,arguments),S(this,n),t[o]=r}}(t,o,r):E(t,r),n.pipe((0,z.R)(t[r]))}}(this)).subscribe(o=>{o&&(this._storageService.setItem(m.ScanOptions,o),this.updateConfig(o)),this.barcodeScanner.start()})}updateConfig(o){this.config.locator.patchSize=o.patchSize,this.config.frequency=o.frequency,this.config.numOfWorkers=o.numOfWorkers,this.config.locate=o.locate,this.config.locator.halfSample=o.halfSample}barcodeScanStarted(o){this.isLoading=!o}};f.\u0275fac=function(o){return new(o||f)(e.Y36(i.qu),e.Y36(c.F0),e.Y36(c.gz),e.Y36(d.uw),e.Y36(ae))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-barcode-scanner"]],viewQuery:function(o,n){if(1&o&&e.Gf(O.al,5),2&o){let r;e.iGM(r=e.CRH())&&(n.barcodeScanner=r.first)}},decls:13,vars:10,consts:[[1,"content"],["class","aim",4,"ngIf"],[3,"config","maxHeight","valueChanges","started"],[3,"formGroup",4,"ngIf"],[1,"option-keys"],["mat-raised-button","","color","primary",1,"manual-key",3,"disabled","click"],["mat-raised-button","","class","manual-key",3,"disabled","click",4,"ngIf"],[3,"revisionId"],[1,"aim"],[1,"aim__border"],[3,"formGroup"],["appearance","fill",3,"color"],["type","number","formControlName","barcode","matInput",""],["mat-raised-button","","color","accent",1,"h50",3,"disabled","click"],["mat-raised-button","",1,"manual-key",3,"disabled","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.qZA(),e.YNc(3,le,2,0,"div",1),e.TgZ(4,"barcode-scanner-livestream",2),e.NdJ("valueChanges",function(u){return n.onValueChanges(u)})("started",function(u){return n.barcodeScanStarted(u)}),e.qZA(),e.YNc(5,pe,9,3,"form",3),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return n.changeEnterOption()}),e._uU(8),e.TgZ(9,"mat-icon"),e._uU(10),e.qZA()(),e.YNc(11,de,4,1,"button",6),e.qZA()(),e._UZ(12,"app-footer-menu",7)),2&o&&(e.xp6(2),e.hij(" ",n.isManuallLogic?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0448\u0442\u0440\u0438\u0445 \u043a\u043e\u0434 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434":"\u041e\u0442\u0441\u043a\u0430\u043d\u0438\u0440\u0443\u0439\u0442\u0435 \u0442\u043e\u0432\u0430\u0440"," "),e.xp6(1),e.Q6J("ngIf",!n.isManuallLogic),e.xp6(1),e.Q6J("config",n.config)("maxHeight","340px"),e.xp6(1),e.Q6J("ngIf",n.isManuallLogic),e.xp6(2),e.Q6J("disabled",n.isLoading&&!n.isManuallLogic),e.xp6(1),e.hij(" ",n.isManuallLogic?"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0443\u0447\u043d\u043e\u0439 \u0432\u0432\u043e\u0434"," "),e.xp6(2),e.hij(" ",n.isManuallLogic?"speaker_phone":"keyboard",""),e.xp6(1),e.Q6J("ngIf",!n.isManuallLogic),e.xp6(1),e.Q6J("revisionId",n.revisionId))},dependencies:[p.O5,g.lW,l.KE,l.hX,b.Nt,_.Hw,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,O.al,x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:560px;height:88vh;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;overflow-y:auto}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .option-keys[_ngcontent-%COMP%]{display:flex;gap:15px;position:absolute;top:66vh;z-index:2}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:300px}.aim[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;height:100%;width:100%;max-width:600px;max-height:340px;z-index:2;filter:blur(3px);top:90px}.aim__border[_ngcontent-%COMP%]{width:100%;max-width:200px;height:100%;max-height:100px;border:2px solid rgb(216,167,75);border-radius:20px;position:absolute;z-index:23;filter:blur(0)}"]}),f=(0,U.gn)([function ne(t={}){return o=>{!function $(t){return!!t[V]}(o)?function ee(t,o){t.prototype.ngOnDestroy=T(t.prototype.ngOnDestroy,o)}(o,t):function te(t,o){const n=t.\u0275pipe;n.onDestroy=T(n.onDestroy,o)}(o,t),function H(t){t.prototype[M]=!0}(o)}}()],f);var me=a(7009);let fe=(()=>{class t{constructor(n,r,u,h){this._fb=n,this._activatedRoute=r,this._snackBar=u,this._router=h,this.productForm=this._fb.group({productId:[null],barcode:[null],productName:[null],quantity:[null,i.kI.required]}),this.revisionId=this._activatedRoute.snapshot.paramMap.get("revisionId"),this.productId=this._activatedRoute.snapshot.paramMap.get("productId")}ngOnInit(){this.productForm.patchValue({barcode:this.productId,productName:"Coca-cola 1\u043b."}),this.productForm.controls.barcode.disable(),this.productForm.controls.productName.disable()}sumbit(){this._snackBar.open("\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b.","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:3e3}),this._router.navigateByUrl(s.K.dashboard+"/"+s.K.revision+"/"+this.revisionId)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(c.gz),e.Y36(me.ux),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-product-form"]],decls:21,vars:7,consts:[[1,"content"],[3,"formGroup"],["appearance","fill",3,"color"],["formControlName","barcode","matInput",""],["formControlName","productName","matInput",""],["type","number","formControlName","quantity","matInput",""],["mat-raised-button","","color","accent",1,"h50",3,"disabled","click"],[3,"revisionId","productId"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"),e.qZA(),e.TgZ(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),e._uU(6,"\u0428\u0442\u0440\u0438\u0445-\u043a\u043e\u0434"),e.qZA(),e._UZ(7,"input",3),e.qZA(),e.TgZ(8,"mat-form-field",2)(9,"mat-label"),e._uU(10,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"),e.qZA(),e._UZ(11,"input",4),e.qZA(),e.TgZ(12,"mat-form-field",2)(13,"mat-label"),e._uU(14,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(15,"input",5),e.qZA(),e.TgZ(16,"button",6),e.NdJ("click",function(){return r.sumbit()}),e._uU(17," \u0413\u043e\u0442\u043e\u0432\u043e "),e.TgZ(18,"mat-icon"),e._uU(19,"library_add"),e.qZA()()()(),e._UZ(20,"app-footer-menu",7)),2&n&&(e.xp6(3),e.Q6J("formGroup",r.productForm),e.xp6(1),e.Q6J("color","white"),e.xp6(4),e.Q6J("color","white"),e.xp6(4),e.Q6J("color","white"),e.xp6(4),e.Q6J("disabled",r.productForm.invalid),e.xp6(4),e.Q6J("revisionId",r.revisionId)("productId",r.productId))},dependencies:[g.lW,l.KE,l.hX,b.Nt,_.Hw,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:560px;height:88vh;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;overflow-y:auto}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:300px}"]}),t})(),he=(()=>{class t{constructor(n,r){this._fb=n,this._activatedRoute=r,this.searchFormGroup=this._fb.group({searchValue:[null]}),this.revisionId=this._activatedRoute.snapshot.paramMap.get("revisionId")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(c.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-revision-search"]],decls:9,vars:3,consts:[[1,"content"],[3,"formGroup"],["type","number","matInput","","formControlName","searchValue"],[3,"revisionId","searchPage"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0440\u0435\u0432\u0438\u0437\u0438\u0438"),e.qZA(),e.TgZ(3,"form",1)(4,"mat-form-field")(5,"mat-label"),e._uU(6,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0448\u0442\u0440\u0438\u0445-\u043a\u043e\u0434 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434"),e.qZA(),e._UZ(7,"input",2),e.qZA()()(),e._UZ(8,"app-footer-menu",3)),2&n&&(e.xp6(3),e.Q6J("formGroup",r.searchFormGroup),e.xp6(5),e.Q6J("revisionId",r.revisionId)("searchPage",!0))},dependencies:[l.KE,l.hX,b.Nt,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:560px;height:88vh;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;overflow-y:auto}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:300px}"]}),t})();const ge=[{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price",address:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u043f\u0435\u0440., 1, \u043b\u0438\u0442. \u0410, \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0420\u043e\u0441\u0441\u0438\u044f, 191119",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!0},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix Price, \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430",address:"\u0443\u043b. \u0421\u043e\u0432\u0435\u0442\u0441\u043a\u0430\u044f, 10, \u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0410\u0440\u0445\u0430\u043d\u0433\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u043e\u0431\u043b., \u0420\u043e\u0441\u0441\u0438\u044f, 165650",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!0},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price Cyber Market",address:"\u041a\u043e\u043d\u0434\u0440\u0430\u0442\u044c\u0435\u0432\u0441\u043a\u0438\u0439\u043f\u0440-\u0442, \u0434. 40 \u043b\u0438\u0442. \u0410, \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0420\u043e\u0441\u0441\u0438\u044f, 195197",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1}];var v=a(3546);function be(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"mat-card",1),e.NdJ("click",function(){e.CHM(n);const u=e.oxw();return e.KtG(u.shop.isThereRevision?u.navigateToRevision():u.showMenu())}),e.TgZ(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.qZA()(),e._UZ(6,"div",2),e.qZA()}if(2&t){const n=e.oxw();e.ekj("pointer",n.shop.isThereRevision||n.isModerator)("active",n.shop.isThereRevision),e.xp6(3),e.hij("",n.shop.name," "),e.xp6(2),e.Oqu(n.shop.address),e.xp6(1),e.ekj("green",n.shop.isThereRevision)}}let _e=(()=>{class t{constructor(n,r){this._dialog=n,this._router=r,this.shop=null,this.isModerator=!0}navigateToRevision(){this._router.navigateByUrl(s.K.dashboard+"/"+s.K.revision+"/"+this.shop?.revisionId)}showMenu(){this._dialog.open(k,{data:{...this.shop}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.uw),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-shop-card"]],inputs:{shop:"shop"},decls:1,vars:1,consts:[[3,"pointer","active","click",4,"ngIf"],[3,"click"],[1,"indicator"]],template:function(n,r){1&n&&e.YNc(0,be,7,8,"mat-card",0),2&n&&e.Q6J("ngIf",r.shop)},dependencies:[p.O5,v.a8,v.dk,v.n5,v.$j],styles:[".mat-card[_ngcontent-%COMP%]{min-width:290px;max-width:600px;min-height:80px;display:flex;align-items:center;justify-content:space-between;background-color:#ebebeb}.mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-right:25px}.mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center}.indicator[_ngcontent-%COMP%]{position:absolute;top:20px;right:15px;width:15px;height:15px;background-color:#8b6868;border-radius:50%}.green[_ngcontent-%COMP%]{animation:blink 2s linear infinite}.pointer[_ngcontent-%COMP%]{cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#fff}@keyframes blink{0%{background-color:#26d820}50%{background-color:#5f7e5f}51%{background-color:#5f7e5f}to{background-color:#26d820}}"]}),t})();function ve(t,o){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-shop-card",3),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("shop",n)}}const Ce=[{path:"",component:(()=>{class t{constructor(){this.shopList=ge}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-shop-list"]],decls:5,vars:1,consts:[[1,"content"],[1,"shop-list"],[4,"ngFor","ngForOf"],[3,"shop"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u0432"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,ve,2,1,"div",2),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngForOf",r.shopList))},dependencies:[p.sg,_e],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:560px;height:88vh;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;overflow-y:auto}.content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}"]}),t})()},{path:`${s.K.revision}/:revisionId`,component:f},{path:`${s.K.revision}/:revisionId/${s.K.product}/:productId`,component:fe},{path:`${s.K.revision}/:revisionId/${s.K.search}`,component:he}];let xe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(Ce),c.Bz]}),t})();var ye=a(4442);let Oe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,xe,ye.m]}),t})()}}]);