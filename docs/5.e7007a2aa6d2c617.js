"use strict";(self.webpackChunkrevision_app=self.webpackChunkrevision_app||[]).push([[5],{3005:(B,m,i)=>{i.r(m),i.d(m,{DashboardModule:()=>P});var d=i(6895),s=i(9197),c=i(136),r=i(4006),f=i(9186),t=i(4650),h=i(4859),l=i(9549),g=i(4144),v=i(7392);function b(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"form",4)(1,"mat-form-field",5)(2,"mat-label"),t._uU(3,"\u0428\u0442\u0440\u0438\u0445-\u043a\u043e\u0434 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434"),t.qZA(),t._UZ(4,"input",6),t.qZA(),t.TgZ(5,"button",7),t.NdJ("click",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.submit())}),t.TgZ(6,"mat-icon"),t._uU(7,"library_add"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.manuallForm),t.xp6(1),t.Q6J("color","white"),t.xp6(4),t.Q6J("disabled",e.manuallForm.invalid)}}function C(o,a){if(1&o&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.barcodeValue)}}let _=(()=>{class o{constructor(e,n,u){this._fb=e,this._router=n,this._activatedRoute=u,this.barcodeValue=null,this.started=!1,this.isManuallLogic=!1,this.manuallForm=this._fb.group({barcode:[null,r.kI.required]}),this.revisionId=this._activatedRoute.snapshot.paramMap.get("revisionId")}ngAfterViewInit(){this.barcodeScanner.start()}onValueChanges(e){this.manuallForm.patchValue({barcode:e.codeResult.code}),this.submit()}submit(){this.manuallForm.invalid||this._router.navigateByUrl(c.K.dashboard+"/"+c.K.revision+"/"+this.revisionId+"/"+c.K.product+"/"+this.manuallForm.value.barcode)}changeEnterOption(){this.isManuallLogic=!this.isManuallLogic,this.isManuallLogic?(this.barcodeScanner.stop(),this.started=!1):this.barcodeScanner.start()}barcodeScanStarted(){this.started=!0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(s.F0),t.Y36(s.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-barcode-scanner"]],viewQuery:function(e,n){if(1&e&&t.Gf(f.al,5),2&e){let u;t.iGM(u=t.CRH())&&(n.barcodeScanner=u.first)}},decls:9,vars:5,consts:[["type","ean",3,"valueChanges","started"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"manual-key",3,"click"],[3,"formGroup"],["appearance","fill",3,"color"],["type","number","formControlName","barcode","matInput",""],["mat-fab","","color","primary",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA(),t.TgZ(2,"barcode-scanner-livestream",0),t.NdJ("valueChanges",function(E){return n.onValueChanges(E)})("started",function(){return n.barcodeScanStarted()}),t.qZA(),t.YNc(3,b,8,3,"form",1),t.YNc(4,C,2,1,"h2",2),t.TgZ(5,"button",3),t.NdJ("click",function(){return n.changeEnterOption()}),t._uU(6),t.TgZ(7,"mat-icon"),t._uU(8),t.qZA()()),2&e&&(t.xp6(1),t.hij(" ",n.isManuallLogic?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0448\u0442\u0440\u0438\u0445 \u043a\u043e\u0434 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434":"\u041e\u0442\u0441\u043a\u0430\u043d\u0438\u0440\u0443\u0439\u0442\u0435 \u0442\u043e\u0432\u0430\u0440","\n"),t.xp6(2),t.Q6J("ngIf",n.isManuallLogic),t.xp6(1),t.Q6J("ngIf",n.barcodeValue),t.xp6(2),t.hij(" ",n.isManuallLogic?"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0443\u0447\u043d\u043e\u0439 \u0432\u0432\u043e\u0434"," "),t.xp6(2),t.hij(" ",n.isManuallLogic?"speaker_phone":"keyboard",""))},dependencies:[d.O5,h.lW,l.KE,l.hX,g.Nt,v.Hw,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,f.al],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{text-align:center}  .scanner{min-width:300px;max-width:600px}  .scanner video{max-height:320px!important}.manual-key[_ngcontent-%COMP%]{position:absolute;top:66vh;z-index:2}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:300px}"]}),o})(),x=(()=>{class o{constructor(e,n){this._fb=e,this._activatedRoute=n,this.productForm=this._fb.group({productId:[null],barcode:[null],productName:[null],quantity:[null,r.kI.required]}),this.revisionId=this._activatedRoute.snapshot.paramMap.get("revisionId"),this.productId=this._activatedRoute.snapshot.paramMap.get("productId")}ngOnInit(){this.productForm.patchValue({barcode:this.productId,productName:"Coca-cola 5\u043b. \u0432 \u0431\u0430\u043d\u043a\u0435"}),this.productForm.controls.barcode.disable(),this.productForm.controls.productName.disable()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(s.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-form"]],decls:18,vars:5,consts:[[3,"formGroup"],["appearance","fill",3,"color"],["formControlName","barcode","matInput",""],["formControlName","productName","matInput",""],["type","number","formControlName","quantity","matInput",""],["mat-fab","","color","primary",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"h1"),t._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"),t.qZA(),t.TgZ(2,"form",0)(3,"mat-form-field",1)(4,"mat-label"),t._uU(5,"\u0428\u0442\u0440\u0438\u0445-\u043a\u043e\u0434"),t.qZA(),t._UZ(6,"input",2),t.qZA(),t.TgZ(7,"mat-form-field",1)(8,"mat-label"),t._uU(9,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"),t.qZA(),t._UZ(10,"input",3),t.qZA(),t.TgZ(11,"mat-form-field",1)(12,"mat-label"),t._uU(13,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),t.qZA(),t._UZ(14,"input",4),t.qZA(),t.TgZ(15,"button",5)(16,"mat-icon"),t._uU(17,"library_add"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.productForm),t.xp6(1),t.Q6J("color","white"),t.xp6(4),t.Q6J("color","white"),t.xp6(4),t.Q6J("color","white"),t.xp6(4),t.Q6J("disabled",n.productForm.invalid))},dependencies:[h.lW,l.KE,l.hX,g.Nt,v.Hw,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u],styles:["h1[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:300px}"]}),o})();const M=[{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price",address:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u043f\u0435\u0440., 1, \u043b\u0438\u0442. \u0410, \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0420\u043e\u0441\u0441\u0438\u044f, 191119",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!0},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix Price, \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430",address:"\u0443\u043b. \u0421\u043e\u0432\u0435\u0442\u0441\u043a\u0430\u044f, 10, \u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0410\u0440\u0445\u0430\u043d\u0433\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u043e\u0431\u043b., \u0420\u043e\u0441\u0441\u0438\u044f, 165650",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!0},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price Cyber Market",address:"\u041a\u043e\u043d\u0434\u0440\u0430\u0442\u044c\u0435\u0432\u0441\u043a\u0438\u0439\u043f\u0440-\u0442, \u0434. 40 \u043b\u0438\u0442. \u0410, \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0420\u043e\u0441\u0441\u0438\u044f, 195197",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1}];var I=i(8352),A=i(5412),p=i(3546);function T(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",1),t.NdJ("click",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.shop.isThereRevision?u.navigateToRevision():u.showMenu())}),t.TgZ(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t._UZ(4,"div",2),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()()()}if(2&o){const e=t.oxw();t.ekj("pointer",e.shop.isThereRevision||e.isModerator)("active",e.shop.isThereRevision),t.xp6(3),t.hij("",e.shop.name," "),t.xp6(1),t.ekj("green",e.shop.isThereRevision),t.xp6(2),t.Oqu(e.shop.address)}}let Z=(()=>{class o{constructor(e,n){this._dialog=e,this._router=n,this.shop=null,this.isModerator=!0}navigateToRevision(){this._router.navigateByUrl(c.K.dashboard+"/"+c.K.revision+"/"+this.shop?.revisionId)}showMenu(){this._dialog.open(I.M,{data:{...this.shop}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.uw),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-shop-card"]],inputs:{shop:"shop"},decls:1,vars:1,consts:[[3,"pointer","active","click",4,"ngIf"],[3,"click"],[1,"indicator"]],template:function(e,n){1&e&&t.YNc(0,T,7,8,"mat-card",0),2&e&&t.Q6J("ngIf",n.shop)},dependencies:[d.O5,p.a8,p.dk,p.n5,p.$j],styles:[".mat-card[_ngcontent-%COMP%]{min-width:290px;max-width:600px;min-height:80px;display:flex;align-items:center;justify-content:space-between;background-color:#ebebeb}.mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-right:25px}.mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{margin-left:5px;width:10px;height:10px;background-color:#8b6868;border-radius:50%}.mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{animation:blink 2s linear infinite}.pointer[_ngcontent-%COMP%]{cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#fff}@keyframes blink{0%{background-color:#26d820}50%{background-color:#5f7e5f}51%{background-color:#5f7e5f}to{background-color:#26d820}}"]}),o})();function y(o,a){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-shop-card",2),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("shop",e)}}const O=[{path:"",component:(()=>{class o{constructor(){this.shopList=M}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-shop-list"]],decls:4,vars:1,consts:[[1,"shop-list"],[4,"ngFor","ngForOf"],[3,"shop"]],template:function(e,n){1&e&&(t.TgZ(0,"h1"),t._uU(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u0432"),t.qZA(),t.TgZ(2,"div",0),t.YNc(3,y,2,1,"div",1),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",n.shopList))},dependencies:[d.sg,Z],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.shop-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}"]}),o})()},{path:`${c.K.revision}/:revisionId`,component:_},{path:`${c.K.revision}/:revisionId/${c.K.product}/:productId`,component:x}];let S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.Bz.forChild(O),s.Bz]}),o})();var F=i(4442);let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,S,F.m]}),o})()}}]);