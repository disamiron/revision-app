"use strict";(self.webpackChunkrevision_app=self.webpackChunkrevision_app||[]).push([[336],{7336:(Ze,O,u)=>{u.r(O),u.d(O,{DashboardModule:()=>Me});var d=u(6895),c=u(3060),s=u(136),w=u(655),i=u(4006),y=u(9186),p=u(5412),e=u(4650),g=u(4859),l=u(9549),_=u(4144),B=u(3238),J=u(4385),q=u(6709),M=u(1948);function N(t,o){if(1&t&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function L(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.qZA())}function R(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"\u041e\u0442 1 \u0434\u043e 20."),e.qZA())}function Y(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.qZA())}function j(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"\u041e\u0442 1 \u0434\u043e 4."),e.qZA())}let Q=(()=>{class t{constructor(n,r,a){this.data=n,this._dialogRef=r,this._fb=a,this.barcodeOptionForm=this._fb.group({patchSize:[null],frequency:[null,[i.kI.required,i.kI.min(1),i.kI.max(20)]],numOfWorkers:[null,[i.kI.required,i.kI.min(1),i.kI.max(4)]],locate:[!1],halfSample:[!1],readers:[null]}),this.patchSizes=["x-small","small","medium","large","x-large"]}ngOnInit(){this.barcodeOptionForm.patchValue({patchSize:this.data.locator?.patchSize,frequency:this.data.frequency,numOfWorkers:this.data.numOfWorkers,locate:this.data.locate,halfSample:this.data.locator?.halfSample,readers:this.data.decoder.readers[0]})}sumbit(){this._dialogRef.close(this.barcodeOptionForm.value)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.WI),e.Y36(p.so),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-barcode-option"]],decls:42,vars:7,consts:[[1,"modal"],[3,"formGroup"],["appearance","fill"],["formControlName","patchSize"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","frequency","matInput",""],[4,"ngIf"],["type","number","formControlName","numOfWorkers","matInput",""],["aria-label","Select an option","formControlName","readers"],["color","primary","value","ean_reader"],["color","primary","value","ean_8_reader"],[1,"checkbox"],["formControlName","locate","color","primary"],["formControlName","halfSample","color","primary"],["mat-raised-button","","color","accent",3,"disabled","click"],[3,"value"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-form-field",2)(3,"mat-label"),e._uU(4,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0442\u0440\u0438\u0445-\u043a\u043e\u0434\u0430"),e.qZA(),e.TgZ(5,"mat-select",3),e.YNc(6,N,2,2,"mat-option",4),e.qZA(),e.TgZ(7,"mat-hint"),e._uU(8,"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f medium"),e.qZA()(),e.TgZ(9,"mat-form-field",2)(10,"mat-label"),e._uU(11,"\u0427\u0430\u0441\u0442\u043e\u0442\u0430"),e.qZA(),e._UZ(12,"input",5),e.TgZ(13,"mat-hint"),e._uU(14,"\u041e\u0442 1 \u0434\u043e 20. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f 10"),e.qZA(),e.YNc(15,L,2,0,"mat-error",6),e.YNc(16,R,2,0,"mat-error",6),e.qZA(),e.TgZ(17,"mat-form-field",2)(18,"mat-label"),e._uU(19,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432"),e.qZA(),e._UZ(20,"input",7),e.TgZ(21,"mat-hint"),e._uU(22,"\u041e\u0442 1 \u0434\u043e 4. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f 2"),e.qZA(),e.YNc(23,Y,2,0,"mat-error",6),e.YNc(24,j,2,0,"mat-error",6),e.qZA(),e.TgZ(25,"mat-radio-group",8)(26,"mat-radio-button",9),e._uU(27,"Ean 13"),e.qZA(),e.TgZ(28,"mat-radio-button",10),e._uU(29,"Ean 8"),e.qZA()(),e.TgZ(30,"div",11)(31,"mat-checkbox",12),e._uU(32," \u041b\u043e\u043a\u0430\u0442\u043e\u0440 "),e.qZA(),e.TgZ(33,"p"),e._uU(34,"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f"),e.qZA()(),e.TgZ(35,"div",11)(36,"mat-checkbox",13),e._uU(37," \u041f\u043e\u043b\u043e\u0432\u0438\u043d\u0430 \u043e\u0431\u0440\u0430\u0437\u0446\u0430 "),e.qZA(),e.TgZ(38,"p"),e._uU(39,"\u0420\u0430\u0441\u0445\u043e\u0434\u0443\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"),e.qZA()(),e.TgZ(40,"button",14),e.NdJ("click",function(){return r.sumbit()}),e._uU(41," \u0413\u043e\u0442\u043e\u0432\u043e "),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("formGroup",r.barcodeOptionForm),e.xp6(5),e.Q6J("ngForOf",r.patchSizes),e.xp6(9),e.Q6J("ngIf",r.barcodeOptionForm.controls.frequency.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.barcodeOptionForm.controls.frequency.hasError("min")||r.barcodeOptionForm.controls.frequency.hasError("max")),e.xp6(7),e.Q6J("ngIf",r.barcodeOptionForm.controls.numOfWorkers.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.barcodeOptionForm.controls.numOfWorkers.hasError("min")||r.barcodeOptionForm.controls.numOfWorkers.hasError("max")),e.xp6(16),e.Q6J("disabled",r.barcodeOptionForm.invalid))},dependencies:[d.sg,d.O5,g.lW,l.TO,l.KE,l.bx,l.hX,_.Nt,B.ey,J.gD,q.oG,M.VQ,M.U0,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u],styles:[".modal[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;max-width:600px;min-width:270px;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:30px 20px}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;line-height:1.125;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;font-size:75%;color:#0009;margin:4px 0 0 10px}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin:10px 0}"]}),t})();var C=u(7579),G=u(727),V=(u(2076),u(515),u(5577),u(2722));const $=e.GuJ,W=Symbol("__destroy"),I=Symbol("__decoratorApplied");function E(t){return"string"==typeof t?Symbol(`__destroy__${t}`):W}function A(t,o){t[o]||(t[o]=new C.x)}function T(t,o){t[o]&&(t[o].next(),t[o].complete(),t[o]=null)}function S(t){t instanceof G.w0&&t.unsubscribe()}function P(t,o){return function(){if(t&&t.call(this),T(this,E()),o.arrayName&&function ee(t){Array.isArray(t)&&t.forEach(S)}(this[o.arrayName]),o.checkProperties)for(const n in this)o.blackList?.includes(n)||S(this[n])}}Symbol("CheckerHasBeenSet");var m=(()=>{return(t=m||(m={})).Token="REVISION_APP_TOKEN",t.User="REVISION_APP_USER",t.ScanOptions="REVISION_APP_SCAN_OPTIONS",m;var t})();let se=(()=>{class t{constructor(){this.storageChange$=new C.x}setItem(n,r){localStorage.setItem(n,JSON.stringify(r)),this.storageChange$.next({type:n,value:r})}getItem(n){const r=localStorage.getItem(n);return JSON.parse(r)}removeItem(n){localStorage.removeItem(n),this.storageChange$.next({type:n})}clearStorage(){Object.keys(m).forEach(n=>{this.removeItem(m[n])})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=u(7392);function ce(t,o){1&t&&(e.TgZ(0,"button",5)(1,"mat-icon"),e._uU(2,"stop"),e.qZA(),e._uU(3," \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0432\u0438\u0437\u0438\u044e "),e.qZA())}let U=(()=>{class t{constructor(n){this.data=n,this.urlValues=s.K}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu"]],decls:16,vars:2,consts:[[1,"modal"],[1,"modal__buttons"],["mat-dialog-close","cancel",3,"routerLink"],["mat-stroked-button","","color","primary",1,"button","white"],["class","button","mat-raised-button","","color","warn",4,"ngIf"],["mat-raised-button","","color","warn",1,"button"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2)(3,"button",3)(4,"mat-icon"),e._uU(5,"search"),e.qZA(),e._uU(6," \u041f\u043e\u0438\u0441\u043a "),e.qZA()(),e.TgZ(7,"button",3)(8,"mat-icon"),e._uU(9," insert_drive_file"),e.qZA(),e._uU(10," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c "),e.qZA(),e.TgZ(11,"button",3)(12,"mat-icon"),e._uU(13,"save_alt"),e.qZA(),e._uU(14," \u0421\u043a\u0430\u0447\u0430\u0442\u044c "),e.qZA(),e.YNc(15,ce,4,0,"button",4),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("routerLink",r.urlValues.dashboard+"/"+r.urlValues.revision+"/"+r.data.revisionId+"/"+r.urlValues.search),e.xp6(13),e.Q6J("ngIf",r.data.isThereRevision))},dependencies:[d.O5,c.yS,g.lW,p.ZT,b.Hw],styles:[".modal[_ngcontent-%COMP%]{box-sizing:border-box;max-width:600px;min-width:270px;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}.modal__buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;margin:30px 0 20px;box-sizing:border-box;min-width:95%}.modal__buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .modal__buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:60px;width:100%;max-width:400px;border-radius:10px}.modal__buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]     .mat-button-wrapper, .modal__buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]     .mat-button-wrapper{margin-right:10px}.white[_ngcontent-%COMP%]{background:#fff}"]}),t})();function le(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.toRevision())}),e.TgZ(1,"mat-icon"),e._uU(2," speaker_phone"),e.qZA()()}}let x=(()=>{class t{constructor(n,r){this._dialog=n,this._router=r,this.revisionId=null,this.productId=null,this.searchPage=!1,this.urlValues=s.K}goHome(){this._router.navigateByUrl(s.K.dashboard)}toRevision(){this._router.navigateByUrl(s.K.dashboard+"/"+s.K.revision+"/"+this.revisionId)}showMenu(){this._dialog.open(U,{data:{isThereRevision:!0,revisionId:this.revisionId}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.uw),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-footer-menu"]],inputs:{revisionId:"revisionId",productId:"productId",searchPage:"searchPage"},decls:8,vars:1,consts:[[1,"footer-menu"],["mat-mini-fab","","color","white",3,"click"],["mat-fab","","color","primary","class","big",3,"click",4,"ngIf"],["mat-fab","","color","primary",1,"big",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return r.goHome()}),e.TgZ(2,"mat-icon"),e._uU(3,"home"),e.qZA()(),e.YNc(4,le,3,0,"button",2),e.TgZ(5,"button",1),e.NdJ("click",function(){return r.showMenu()}),e.TgZ(6,"mat-icon"),e._uU(7,"menu"),e.qZA()()()),2&n&&(e.xp6(4),e.Q6J("ngIf",r.productId||r.searchPage))},dependencies:[d.O5,g.lW,b.Hw],styles:["[_nghost-%COMP%]{display:flex;justify-content:center}.footer-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;min-width:290px;max-width:400px;width:100%;height:40px}.big[_ngcontent-%COMP%]{width:80px;height:80px}"]}),t})();function de(t,o){1&t&&(e.TgZ(0,"div",8),e._UZ(1,"div",9),e.qZA())}function pe(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",10)(1,"mat-form-field",11)(2,"mat-label"),e._uU(3,"\u0428\u0442\u0440\u0438\u0445-\u043a\u043e\u0434 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434"),e.qZA(),e._UZ(4,"input",12),e.qZA(),e.TgZ(5,"button",13),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.submit())}),e._uU(6," \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c "),e.TgZ(7,"mat-icon"),e._uU(8,"library_add"),e.qZA()()()}if(2&t){const n=e.oxw();e.Q6J("formGroup",n.manuallForm),e.xp6(1),e.Q6J("color","white"),e.xp6(4),e.Q6J("disabled",n.manuallForm.invalid)}}function me(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.setting())}),e.TgZ(1,"mat-icon"),e._uU(2,"settings"),e.qZA()()}if(2&t){const n=e.oxw();e.Q6J("disabled",n.isLoading&&!n.isManuallLogic)}}let f=class{constructor(o,n,r,a,h){this._fb=o,this._router=n,this._activatedRoute=r,this._dialog=a,this._storageService=h,this.isManuallLogic=!1,this.isLoading=!0,this.config={frequency:10,locate:!0,numOfWorkers:2,inputStream:{constraints:{facingMode:"environment"},area:{top:"20%",right:"0%",left:"0%",bottom:"20%"}},decoder:{readers:["ean_reader"]},locator:{halfSample:!1,patchSize:"medium"}},this.checkFormat="ean_13",this.manuallForm=this._fb.group({barcode:[null,i.kI.required]}),this.revisionId=this._activatedRoute.snapshot.paramMap.get("revisionId")}ngAfterViewInit(){let o=this._storageService.getItem(m.ScanOptions);o&&this.updateConfig(o),this.barcodeScanner.start()}onValueChanges(o){o.codeResult.format===this.checkFormat&&o?.codeResult?.code&&(this.barcodeScanner.stop(),this.isManuallLogic=!0,this.manuallForm.patchValue({barcode:o.codeResult.code}))}submit(){this.manuallForm.invalid||this._router.navigateByUrl(s.K.dashboard+"/"+s.K.revision+"/"+this.revisionId+"/"+s.K.product+"/"+this.manuallForm.value.barcode)}changeEnterOption(){this.isLoading&&!this.isManuallLogic||(this.isManuallLogic=!this.isManuallLogic,this.isManuallLogic?this.barcodeScanner.stop():(this.manuallForm.patchValue({barcode:null}),this.isLoading=!0,this.barcodeScanner.start()))}setting(){this.isLoading||(this.barcodeScanner.stop(),this._dialog.open(Q,{data:{...this.config}}).afterClosed().pipe(function ae(t,o){return n=>{const r=E(o);return"string"==typeof o?function ue(t,o,n){const r=t[o];A(t,n),t[o]=function(){r.apply(this,arguments),T(this,n),t[o]=r}}(t,o,r):A(t,r),n.pipe((0,V.R)(t[r]))}}(this)).subscribe(o=>{o&&(this._storageService.setItem(m.ScanOptions,o),this.updateConfig(o)),this.barcodeScanner.start()}))}updateConfig(o){this.config.locator.patchSize=o.patchSize,this.config.frequency=o.frequency,this.config.numOfWorkers=o.numOfWorkers,this.config.locate=o.locate,this.config.locator.halfSample=o.halfSample,this.config.decoder.readers=[o.readers],this.checkFormat="ean_8_reader"===this.config.decoder?.readers[0]?"ean_8":"ean_13"}barcodeScanStarted(o){this.isLoading=!o}};f.\u0275fac=function(o){return new(o||f)(e.Y36(i.qu),e.Y36(c.F0),e.Y36(c.gz),e.Y36(p.uw),e.Y36(se))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-barcode-scanner"]],viewQuery:function(o,n){if(1&o&&e.Gf(y.al,5),2&o){let r;e.iGM(r=e.CRH())&&(n.barcodeScanner=r.first)}},decls:13,vars:10,consts:[[1,"content"],["class","aim",4,"ngIf"],[3,"config","maxHeight","valueChanges","started"],[3,"formGroup",4,"ngIf"],[1,"option-keys"],["mat-raised-button","","color","primary",1,"manual-key",3,"disabled","click"],["mat-raised-button","","class","manual-key",3,"disabled","click",4,"ngIf"],[3,"revisionId"],[1,"aim"],[1,"aim__border"],[3,"formGroup"],["appearance","fill",3,"color"],["type","number","formControlName","barcode","matInput",""],["mat-raised-button","","color","accent",1,"h50",3,"disabled","click"],["mat-raised-button","",1,"manual-key",3,"disabled","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.qZA(),e.YNc(3,de,2,0,"div",1),e.TgZ(4,"barcode-scanner-livestream",2),e.NdJ("valueChanges",function(a){return n.onValueChanges(a)})("started",function(a){return n.barcodeScanStarted(a)}),e.qZA(),e.YNc(5,pe,9,3,"form",3),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return n.changeEnterOption()}),e._uU(8),e.TgZ(9,"mat-icon"),e._uU(10),e.qZA()(),e.YNc(11,me,3,1,"button",6),e.qZA()(),e._UZ(12,"app-footer-menu",7)),2&o&&(e.xp6(2),e.hij(" ",n.isManuallLogic?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0448\u0442\u0440\u0438\u0445 \u043a\u043e\u0434 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434":"\u041e\u0442\u0441\u043a\u0430\u043d\u0438\u0440\u0443\u0439\u0442\u0435 \u0442\u043e\u0432\u0430\u0440"," "),e.xp6(1),e.Q6J("ngIf",!n.isManuallLogic),e.xp6(1),e.Q6J("config",n.config)("maxHeight","340px"),e.xp6(1),e.Q6J("ngIf",n.isManuallLogic),e.xp6(2),e.Q6J("disabled",n.isLoading&&!n.isManuallLogic),e.xp6(1),e.hij(" ",n.isManuallLogic?"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0443\u0447\u043d\u043e\u0439 \u0432\u0432\u043e\u0434"," "),e.xp6(2),e.hij(" ",n.isManuallLogic?"speaker_phone":"keyboard",""),e.xp6(1),e.Q6J("ngIf",!n.isManuallLogic),e.xp6(1),e.Q6J("revisionId",n.revisionId))},dependencies:[d.O5,g.lW,l.KE,l.hX,_.Nt,b.Hw,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,y.al,x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:560px;height:88vh;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;overflow-y:auto}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .option-keys[_ngcontent-%COMP%]{display:flex;gap:15px;position:absolute;top:66vh;z-index:2}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:300px}.aim[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;height:100%;width:100%;max-width:600px;max-height:340px;z-index:2;filter:blur(3px);top:90px}.aim__border[_ngcontent-%COMP%]{width:100%;max-width:200px;height:100%;max-height:100px;border:2px solid rgb(206,196,52);border-radius:20px;position:absolute;z-index:23;filter:blur(0)}"]}),f=(0,w.gn)([function oe(t={}){return o=>{!function H(t){return!!t[$]}(o)?function te(t,o){t.prototype.ngOnDestroy=P(t.prototype.ngOnDestroy,o)}(o,t):function ne(t,o){const n=t.\u0275pipe;n.onDestroy=P(n.onDestroy,o)}(o,t),function X(t){t.prototype[I]=!0}(o)}}()],f);var fe=u(7009);let he=(()=>{class t{constructor(n,r,a,h){this._fb=n,this._activatedRoute=r,this._snackBar=a,this._router=h,this.productForm=this._fb.group({productId:[null],barcode:[null],productName:[null],quantity:[null,i.kI.required]}),this.revisionId=this._activatedRoute.snapshot.paramMap.get("revisionId"),this.productId=this._activatedRoute.snapshot.paramMap.get("productId")}ngOnInit(){this.productForm.patchValue({barcode:this.productId,productName:"Coca-cola 1\u043b."}),this.productForm.controls.barcode.disable(),this.productForm.controls.productName.disable()}sumbit(){this._snackBar.open("\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b.","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:3e3}),this._router.navigateByUrl(s.K.dashboard+"/"+s.K.revision+"/"+this.revisionId)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(c.gz),e.Y36(fe.ux),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-product-form"]],decls:21,vars:7,consts:[[1,"content"],[3,"formGroup"],["appearance","fill",3,"color"],["formControlName","barcode","matInput",""],["formControlName","productName","matInput",""],["type","number","formControlName","quantity","matInput",""],["mat-raised-button","","color","accent",1,"h50",3,"disabled","click"],[3,"revisionId","productId"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"),e.qZA(),e.TgZ(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),e._uU(6,"\u0428\u0442\u0440\u0438\u0445-\u043a\u043e\u0434"),e.qZA(),e._UZ(7,"input",3),e.qZA(),e.TgZ(8,"mat-form-field",2)(9,"mat-label"),e._uU(10,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"),e.qZA(),e._UZ(11,"input",4),e.qZA(),e.TgZ(12,"mat-form-field",2)(13,"mat-label"),e._uU(14,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(15,"input",5),e.qZA(),e.TgZ(16,"button",6),e.NdJ("click",function(){return r.sumbit()}),e._uU(17," \u0413\u043e\u0442\u043e\u0432\u043e "),e.TgZ(18,"mat-icon"),e._uU(19,"library_add"),e.qZA()()()(),e._UZ(20,"app-footer-menu",7)),2&n&&(e.xp6(3),e.Q6J("formGroup",r.productForm),e.xp6(1),e.Q6J("color","white"),e.xp6(4),e.Q6J("color","white"),e.xp6(4),e.Q6J("color","white"),e.xp6(4),e.Q6J("disabled",r.productForm.invalid),e.xp6(4),e.Q6J("revisionId",r.revisionId)("productId",r.productId))},dependencies:[g.lW,l.KE,l.hX,_.Nt,b.Hw,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:560px;height:88vh;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;overflow-y:auto}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:300px}"]}),t})(),ge=(()=>{class t{constructor(n,r){this._fb=n,this._activatedRoute=r,this.searchFormGroup=this._fb.group({searchValue:[null]}),this.revisionId=this._activatedRoute.snapshot.paramMap.get("revisionId")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(c.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-revision-search"]],decls:9,vars:3,consts:[[1,"content"],[3,"formGroup"],["type","number","matInput","","formControlName","searchValue"],[3,"revisionId","searchPage"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0440\u0435\u0432\u0438\u0437\u0438\u0438"),e.qZA(),e.TgZ(3,"form",1)(4,"mat-form-field")(5,"mat-label"),e._uU(6,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0448\u0442\u0440\u0438\u0445-\u043a\u043e\u0434 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434"),e.qZA(),e._UZ(7,"input",2),e.qZA()()(),e._UZ(8,"app-footer-menu",3)),2&n&&(e.xp6(3),e.Q6J("formGroup",r.searchFormGroup),e.xp6(5),e.Q6J("revisionId",r.revisionId)("searchPage",!0))},dependencies:[l.KE,l.hX,_.Nt,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:560px;height:88vh;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;overflow-y:auto}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:300px}"]}),t})();const _e=[{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price",address:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u043f\u0435\u0440., 1, \u043b\u0438\u0442. \u0410, \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0420\u043e\u0441\u0441\u0438\u044f, 191119",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!0},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix Price, \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430",address:"\u0443\u043b. \u0421\u043e\u0432\u0435\u0442\u0441\u043a\u0430\u044f, 10, \u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0410\u0440\u0445\u0430\u043d\u0433\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u043e\u0431\u043b., \u0420\u043e\u0441\u0441\u0438\u044f, 165650",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!0},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price Cyber Market",address:"\u041a\u043e\u043d\u0434\u0440\u0430\u0442\u044c\u0435\u0432\u0441\u043a\u0438\u0439\u043f\u0440-\u0442, \u0434. 40 \u043b\u0438\u0442. \u0410, \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0420\u043e\u0441\u0441\u0438\u044f, 195197",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1},{shopId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"Fix price MEGAPOLIS",address:"\u041a\u043e\u0440\u044f\u0436\u043c\u0430, \u0422\u0426 MEGAPOLIS",revisionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",isThereRevision:!1}];var v=u(3546);function be(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"mat-card",1),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.shop.isThereRevision?a.navigateToRevision():a.showMenu())}),e.TgZ(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.qZA()(),e._UZ(6,"div",2),e.qZA()}if(2&t){const n=e.oxw();e.ekj("pointer",n.shop.isThereRevision||n.isModerator)("active",n.shop.isThereRevision),e.xp6(3),e.hij("",n.shop.name," "),e.xp6(2),e.Oqu(n.shop.address),e.xp6(1),e.ekj("green",n.shop.isThereRevision)}}let ve=(()=>{class t{constructor(n,r){this._dialog=n,this._router=r,this.shop=null,this.isModerator=!0}navigateToRevision(){this._router.navigateByUrl(s.K.dashboard+"/"+s.K.revision+"/"+this.shop?.revisionId)}showMenu(){this._dialog.open(U,{data:{...this.shop}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.uw),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-shop-card"]],inputs:{shop:"shop"},decls:1,vars:1,consts:[[3,"pointer","active","click",4,"ngIf"],[3,"click"],[1,"indicator"]],template:function(n,r){1&n&&e.YNc(0,be,7,8,"mat-card",0),2&n&&e.Q6J("ngIf",r.shop)},dependencies:[d.O5,v.a8,v.dk,v.n5,v.$j],styles:[".mat-card[_ngcontent-%COMP%]{min-width:290px;max-width:600px;min-height:80px;display:flex;align-items:center;justify-content:space-between;background-color:#ebebeb}.mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-right:25px}.mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center}.indicator[_ngcontent-%COMP%]{position:absolute;top:20px;right:15px;width:15px;height:15px;background-color:#8b6868;border-radius:50%}.green[_ngcontent-%COMP%]{animation:blink 2s linear infinite}.pointer[_ngcontent-%COMP%]{cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#fff}@keyframes blink{0%{background-color:#26d820}50%{background-color:#5f7e5f}51%{background-color:#5f7e5f}to{background-color:#26d820}}"]}),t})();function Ce(t,o){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-shop-card",3),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("shop",n)}}const xe=[{path:"",component:(()=>{class t{constructor(){this.shopList=_e}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-shop-list"]],decls:5,vars:1,consts:[[1,"content"],[1,"shop-list"],[4,"ngFor","ngForOf"],[3,"shop"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u0432"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,Ce,2,1,"div",2),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngForOf",r.shopList))},dependencies:[d.sg,ve],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:560px;height:88vh;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;overflow-y:auto}.content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}"]}),t})()},{path:`${s.K.revision}/:revisionId`,component:f},{path:`${s.K.revision}/:revisionId/${s.K.product}/:productId`,component:he},{path:`${s.K.revision}/:revisionId/${s.K.search}`,component:ge}];let Oe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(xe),c.Bz]}),t})();var ye=u(4442);let Me=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,Oe,ye.m]}),t})()}}]);